<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Penginstal Otomatis HEN PS3</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{--bg:#0f1022;--card:#111322;--accent:#7C4DFF;--accent-2:#00BFA6;--muted:#c8c8d0;--danger:#ff5c5c}
  html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;}
  body{background: linear-gradient(180deg, #7b61ff33 0%, #a79bff22 40%), radial-gradient(1000px 600px at 10% 10%, #ffd6a8 0%, transparent 8%), var(--bg);color:var(--muted);display:flex;align-items:center;justify-content:center;padding:28px;box-sizing:border-box}
  .card{width:980px;max-width:98vw;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));border-radius:14px;box-shadow:0 10px 40px rgba(12,10,30,0.6);overflow:hidden;border:1px solid rgba(255,255,255,0.03)}
  .hero{display:flex;gap:20px;padding:28px;align-items:center}
  .logo{width:120px;height:120px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#4f8bff);display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:20px;box-shadow:0 8px 24px rgba(124,77,255,0.18)}
  .title{flex:1}
  h1{margin:0;color:white;font-size:22px;letter-spacing:-0.4px}
  .subtitle{margin:6px 0 0 0;color:var(--muted);font-size:14px}
  .meta{margin-top:8px;font-size:13px;color:#bfc6d8}
  .controls{padding:22px;border-top:1px solid rgba(255,255,255,0.03);display:flex;gap:12px;align-items:center;flex-wrap:wrap}
  .controls button{background:linear-gradient(180deg,var(--accent),#5a33ff);border:none;color:white;padding:12px 18px;border-radius:10px;font-weight:600;cursor:pointer;box-shadow:0 6px 18px rgba(92,63,255,0.14)}
  .controls #btnReset{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);padding:10px 14px}
  .controls label{font-size:14px;color:var(--muted);display:flex;align-items:center;gap:8px}
  .info{padding:20px 28px;background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(0,0,0,0.03));border-top:1px dashed rgba(255,255,255,0.02);font-size:14px;color:#d6d8e6}
  .info strong{color:#fff}
  #result{padding:18px 28px;font-weight:700}
  #log{padding:12px 28px;font-size:13px;color:#cfcfe0;min-height:48px}
  .hint{display:inline-block;background:rgba(0,0,0,0.25);padding:6px 10px;border-radius:8px;color:#f6f6f8;font-size:12px}
  .footer{padding:14px 28px;font-size:12px;color:#9fa6bf;border-top:1px solid rgba(255,255,255,0.02);display:flex;justify-content:space-between;align-items:center}
  @media (max-width:640px){.hero{flex-direction:column;align-items:flex-start}.logo{width:92px;height:92px}.controls{flex-direction:column;align-items:stretch}}
</style>

<!-- Jangan mengubah isi file script di bawah --><script src="ps3hen_v100.js"></script>
<!-- Jangan mengubah skrip inline di bawah -->
<script>
function downloadhen()
{
	window.location.href = 'https://drive.usercontent.google.com/download?id=1SZ6jTKBqx5aRseC83EgfDLZ0ZBZMmVd9&export=download';
}

function initROP(init)
{
	try
	{
		if(init===true){frame_fails=0;search_base_off=0;search_size_ext=0;}
		if(t_out!==0){clearTimeout(t_out);t_out=0;}
		offset_array=[];
		disable_all();
		clearLogEntry();
		xtra_data_addr=0;
		stack_frame_addr=0;
		jump_2_addr=0;
		jump_1_addr=0;
		var usb_fp_addr=0, index_key_addr=0;
		var search_max_threshold=70*0x100000; // 70Mb maximum memory search
		var search_base=0x80100000;//0x80190000;//
		var search_size=2*mbytes;
		search_size_ext=0*mbytes;
		search_base_off=0*mbytes;
		total_loops++;
		
		xtra_data=start_x.convert()+usb_sp.convert()
		+index_key.convert(true)
		+unescape("\uFD7E");
		while(xtra_data_addr===0)
		{
			if(search_max_threshold<search_size){load_check();return;}
			xtra_data=xtra_data.replaceAt(0,hexh2bin(0x7EFD));
			xtra_data_addr=findJsVariableOffset("xtra_data",xtra_data,search_base,search_size);
			search_max_threshold-=search_size;
		}
		
		
		usb_fp_addr=xtra_data_addr+start_x.convertedSize()-0x4;
		index_key_addr=usb_fp_addr+usb_sp.convertedSize();
		//############################ Building stack frame ###############################################################
		stack_frame=stack_frame_hookup()
		+store_word(0x8a000004,sp_exit)
		+store_word(0x8a000014,gadget_mod8_addr)
		+syscall(sc_fs_open,usb_fp_addr,fs_flag_readonly,0x8e000000,0,0,0,0,0)
		+syscall_r3r5_p2p(sc_fs_read,0x8e000000,0x8a000000,0x110000,0x8e000008,0,0,0,0,0,0)
		+syscall_r3_p2p(sc_fs_close,0x8e000000,0,0,0,0,0,0,0,0,0)
		+stack_frame_swap(0x8a000000)
		+stack_frame_exit();
//############################ End stack frame ###############################################################		
		while(stack_frame_addr===0)
		{
			if(search_max_threshold<search_size+search_size_ext){frame_fails++;if((frame_fails%10)===0){search_base_off+=0;search_size_ext+=0;}load_check();return;}
			stack_frame=stack_frame.replaceAt(0,hexh2bin(0x2A2F));
			stack_frame_addr=findJsVariableOffset("stack_frame",stack_frame,search_base+search_base_off,search_size+search_size_ext);
			if(stack_frame_addr==-1)if(search_max_threshold<search_size+search_size_ext){frame_fails++;load_check();return;}
			search_max_threshold-=search_size+search_size_ext;
		}
		jump_2=unescape("\u0102\u7EFB")+fill_by_16bytes(0x30,0x8282)+hexw2bin(stack_frame_addr)+unescape("\uFB7E");		
		while(jump_2_addr===0)
		{
			if(search_max_threshold<search_size){load_check();return;}
			jump_2=jump_2.replaceAt(0,hexh2bin(0x7EFB));
			jump_2_addr=findJsVariableOffset("jump_2",jump_2,search_base,search_size);
			if(jump_2_addr==-1)if(search_max_threshold<search_size){load_check();return;}
			search_max_threshold-=search_size;
		}
		jump_1=unescape("\u4141\u7EFA")+hexw2bin(jump_2_addr)+unescape("\uFA7E");
		while(jump_1_addr===0)
		{
			if(search_max_threshold<search_size){load_check();return;}
			jump_1=jump_1.replaceAt(0,hexh2bin(0x7EFA));
			jump_1_addr=findJsVariableOffset("jump_1",jump_1,search_base,search_size);
			if(jump_1_addr==-1)if(search_max_threshold<search_size){load_check();return;}
			search_max_threshold-=search_size;
		}
		var sf=checkMemory(stack_frame_addr-0x4,0x8000,stack_frame.length);
		var x=checkMemory(xtra_data_addr-0x4,0x1000,xtra_data.length);
		var j2=checkMemory(jump_2_addr-0x4,0x1000,jump_2.length);
		var j1=checkMemory(jump_1_addr-0x4,0x1000,jump_1.length);
		if((j2===jump_2)&&(j1===jump_1)&&(x===xtra_data)&&(sf===stack_frame))
		{
			if(t_out!==0){clearTimeout(t_out);}
			showResult(hr+"<h1><b><font color=%22386E38%22>Auto HEN installer initialized successfully.</font></b></h1><h3><b><font color=%22000000%22><span style='color:#000000;'>The HEN installation payload will launch automatically!</span></b></h3>");
			//enable_trigger();
			setTimeout(function () {
			  triggerX();
			}, 3000);
		}
		else
		{
			if(x!==xtra_data)logAdd("xtra_data mismatch in memory!");
			if(sf!==stack_frame)logAdd("stack_frame mismatch in memory!");
			if(j2!==jump_2)logAdd("jump_2 mismatch in memory!");
			if(j1!==jump_1)logAdd("jump_1 mismatch in memory!");
			//logAdd("String mismatch in memory!");
			load_check();
		}
	}
	catch(e)
	{
		debug=true;
		logAdd(br+"HEN Enabler initialization failed because the following exception was thrown during execution:"+br+e+" at : "+e.lineNumber);
		debug=false;
	}
}

function triggerX()
{
		clearLogEntry();
		showResult(hr+"<h2><b><span style='color:#000000;'>Installing HEN...</span></b></h2>");
		disable_all();
		setTimeout(trigger,1000,jump_1_addr);
		setTimeout(rop_exit_hen,5000,hr+"<h1><b><font color=%22386E38%22>HEN is successfully installed</font></b></h1>","<h1><b><font color='red'>HEN Failure! Restart PS3 and retry!</font></b></h1>");
		cleanGUI();
}
</script>

</head>
<body id="bodyId" style="background-color:#aa97ff" onload="javascript:downloadhen()">
  <div class="card">
    <div class="hero">
      <div class="logo">PS3</div>
      <div class="title" id="headerId">
        <h1>Penginstal Otomatis HEN â€” PS3</h1>
        <div class="subtitle">Rahasiakan dari koh Fut Loi ðŸ˜‰</div>
        <div class="meta">Mendukung: CEX 4.92 HFW â€¢ xStorm â€¢ Citra Mulia</div>
        <div class="meta">INFO: Jika HEN sudah terpasang, ini berfungsi sebagai Enabler</div>
        <div class="meta" style="margin-top:8px">Petunjuk: Klik tombol <span class="hint">Pasang HEN Otomatis</span>, lalu tunggu proses berjalan.</div>
      </div>
    </div>

    <div class="controls">
      <button id="btnROP" type="button" onclick="initROP(true);" autofocus>Pasang HEN Otomatis</button>
      <label><input type="checkbox" id="auto_close" name="aclose" checked="checked" onclick="autoclose();"/> Tutup browser otomatis</label>
      <label id="dex_txt" style="visibility:hidden">Mode DEX <input type="checkbox" id="dex" name="DEX" disabled="" onclick="dex();"/></label>
      <button id="btnReset" type="button" onclick="disable_trigger();">Reset</button>
      <div style="flex:1"></div>
      <div style="font-size:13px;color:#d6d8e6">* Jika inisialisasi gagal: setel Halaman Utama ke <em>about:blank</em>, simpan bookmark halaman ini, lalu muat ulang dan coba lagi.</div>
    </div>

    <div class="info" id="result">
      <strong>Status:</strong> Menunggu tindakan. Untuk memulai, tekan tombol <em>Pasang HEN Otomatis</em> di atas.
    </div>

    <div id="log"></div>

    <div class="footer">
      <div>Instruksi singkat: <strong>Jangan ubah skrip</strong> â€” hanya antarmuka yang diterjemahkan.</div>
      <div>Versi UI: Indonesia â€¢ Tampilan: Modern</div>
    </div>
  </div>

  <div id="exploit" ></div>
  <div id="trigger"></div>
  <div id="footer"></div>

  <script>
    writeEnvInfo();
    ps3chk();
    setTimeout(initROP,4000,true);
    autoclose();
  </script>
</body>
</html>
